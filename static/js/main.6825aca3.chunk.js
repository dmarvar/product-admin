(this["webpackJsonpproduct-admin"]=this["webpackJsonpproduct-admin"]||[]).push([[0],{100:function(e,t,n){},216:function(e,t,n){},218:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(43),c=n.n(o),l=(n(100),n(56)),i=n.n(l),u=n(11),s=n(12),d=n(14),p=n(13),m=n(15),h=n(45),g=n(3),f=n(2),b=n(24),E=n(21),v=n(27),x=n.n(v),y=n(87);x.a.defaults.baseURL=y.a,x.a.interceptors.response.use(null,(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log("Logging the error",e),alert("Un error inesperado ocurrio")),Promise.reject(e)}));var O={get:x.a.get,post:x.a.post,put:x.a.put,delete:x.a.delete},j={bgColor:"#4e657a",bgColorDark:"#435c70",bgColorLight:"#567086",cWhite:"white",cOrange:"#f5a623",cOrangeDark:"#e67e00",bShadow:"-1px 10px 18px 0px rgba(0, 0, 0, 0.75)",bp:{phone:"480px",tablet:"720px",desktop:"1024px"}};function k(){var e=Object(g.a)(["\n  color: ",";\n  padding: 10px 15px;\n  border-color: ",";\n  background-color: ",";\n  margin: 20px 10px 30px;\n  &:hover {\n    background-color: ",";\n    border-color: ",";\n    color: white;\n    text-decoration: none;\n  }\n"]);return k=function(){return e},e}var w=f.b.button(k(),(function(e){return e.theme.cWhite}),(function(e){return e.theme.cOrange}),(function(e){return e.theme.cOrange}),(function(e){return e.theme.cOrangeDark}),(function(e){return e.theme.cOrangeDark}));function C(e){var t=e.text,n=e.action;return r.a.createElement(w,{onClick:n},t)}var P={isAuthenticated:!1,authenticate:function(e){this.isAuthenticated=!0,setTimeout(e,500)},signout:function(e){this.isAuthenticated=!1,setTimeout(e,500)}};function D(){var e=Object(g.a)(["\n  padding: 20px;\n  input {\n    padding: 5px 10px;\n    background-color: ",";\n  }\n  button {\n    color: ",";\n    padding: 5px 15px;\n    border-color: ",";\n    background: ",";\n    margin: 20px auto 30px;\n  }\n"]);return D=function(){return e},e}function S(){var e=Object(g.a)(["\n  min-width: 300px;\n  text-align: center;\n  background-color: ",";\n  padding: 20px;\n  box-shadow: ",";\n"]);return S=function(){return e},e}function A(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-top: 100px;\n  min-height: 300px;\n"]);return A=function(){return e},e}var L=f.b.div(A()),U=f.b.div(S(),(function(e){return e.theme.bgColorDark}),(function(e){return e.theme.bShadow})),V=f.b.section(D(),(function(e){return e.theme.bgColor}),(function(e){return e.theme.cWhite}),(function(e){return e.theme.cOrange}),(function(e){return e.theme.cOrange})),I=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={redirect:!1},n.validate=function(){},n.submitForm=function(e){e.preventDefault(),P.authenticate((function(){n.setState({redirect:!0}),console.log(n.state)}))},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return this.state.redirect?r.a.createElement(b.a,{to:"/"}):r.a.createElement(L,null,r.a.createElement(U,null,r.a.createElement("h2",null,"Welcome to Dashboard"),r.a.createElement("hr",null),r.a.createElement(V,null,r.a.createElement("p",null,"USERNAME"),r.a.createElement("input",{type:"text"})),r.a.createElement(V,null,r.a.createElement("p",null,"PASSWORD"),r.a.createElement("input",{type:"password"})),r.a.createElement(V,null,r.a.createElement(C,{text:"LOGIN",action:this.submitForm.bind(this)})),r.a.createElement("hr",null),r.a.createElement("p",null,"Forgot your password?")))}}]),t}(a.Component),N=n(16),T=n(17);function R(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  text-align: center;\n  a {\n    padding: 20px 30px;\n    height: 100%;\n    color: ",";\n    span {\n      display: block;\n      font-size: 40px;\n    }\n    &:hover {\n      background: ",";\n      text-decoration: none;\n    }\n  }\n"]);return R=function(){return e},e}function _(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  background-color: ",";\n  h1 {\n    color: ",";\n  }\n"]);return _=function(){return e},e}var W=f.b.nav(_(),(function(e){return e.theme.bgColorLight}),(function(e){return e.theme.cOrange})),z=f.b.div(R(),(function(e){return e.theme.cWhite}),(function(e){return e.theme.cOrange}));function B(){var e=Object(b.g)();return r.a.createElement(W,null,r.a.createElement("div",null,r.a.createElement("h1",null,"ADMIN Panel")),r.a.createElement(z,null,r.a.createElement(E.b,{to:"/"},r.a.createElement("span",null,r.a.createElement(N.a,{icon:T.c})),"Dashboard"),r.a.createElement(E.b,{to:"/products"},r.a.createElement("span",null,r.a.createElement(N.a,{icon:T.b})),"Products"),r.a.createElement(E.b,{to:"/accounts"},r.a.createElement("span",null,r.a.createElement(N.a,{icon:T.e})),"Accounts")),r.a.createElement(C,{text:"Logout",action:function(){P.signout((function(){e.push("/login")}))}}))}function M(){var e=Object(g.a)(["\n  background-color: ",";\n  padding: 20px;\n  margin: 30px 0;\n"]);return M=function(){return e},e}var H=f.b.div(M(),(function(e){return e.theme.bgColorDark}));function F(e){var t=e.children,n=e.title;return r.a.createElement(H,null,r.a.createElement("h5",null,n),t)}function X(){var e=Object(g.a)(["\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  padding: 10px;\n  margin: 10px 0px;\n  img {\n    width: 80px;\n    height: 80px;\n    object-fit: cover;\n    background: orange;\n    border-radius: 40px;\n    margin-right: 20px;\n  }\n  p {\n    margin-bottom: 0px;\n  }\n  span {\n    color: gray;\n  }\n"]);return X=function(){return e},e}var J=f.b.div(X(),(function(e){return e.theme.bgColor}));function Z(e){var t=e.data;return r.a.createElement(J,null,r.a.createElement("img",{src:t.pic,alt:""}),r.a.createElement("div",null,r.a.createElement("p",null,t.message),r.a.createElement("p",null,r.a.createElement("span",null,t.time))))}function G(){var e=Object(g.a)(["\n  height: 280px;\n  overflow: scroll;\n"]);return G=function(){return e},e}var Y=f.b.section(G());function $(e){var t=e.data;return r.a.createElement(Y,null,t.map((function(e,t){return r.a.createElement(Z,{data:e,key:t})})),t.map((function(e,t){return r.a.createElement(Z,{data:e,key:t})})),t.map((function(e,t){return r.a.createElement(Z,{data:e,key:t})})))}var q=n(29),K={legend:{labels:{fontColor:"white",fontSize:12}},scales:{yAxes:[{ticks:{fontColor:"white",fontSize:11,beginAtZero:!0}}],xAxes:[{ticks:{fontColor:"white",fontSize:11,beginAtZero:!0}}]}},Q=function(e,t,n){return{label:e,fill:!1,lineTension:.2,backgroundColor:"rgba(255, 255, 255,1)",borderColor:t,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",pointBorderColor:t,pointBackgroundColor:"#fff",pointBorderWidth:1,pointHoverRadius:5,pointHoverBackgroundColor:"rgba(255,255,255,1)",pointHoverBorderColor:t,pointHoverBorderWidth:2,pointRadius:2,pointHitRadius:10,data:n}};function ee(e){var t=e.data,n={labels:t.months,datasets:[Q("Featured","rgba(66, 245, 242,1)",t.featured),Q("Popular","rgba(245, 66, 236,1)",t.popular),Q("Latest","rgba(32, 180, 32,1)",t.latest)]};return r.a.createElement(q.c,{data:n,options:K})}var te={legend:{display:!1,labels:{fontColor:"white",fontSize:18}},scales:{yAxes:[{ticks:{fontColor:"white",fontSize:11}}],xAxes:[{ticks:{fontColor:"white",fontSize:11,beginAtZero:!0}}]}};function ne(e){var t=e.data,n={labels:Object.keys(t),datasets:[{backgroundColor:Object.keys(t),borderWidth:1,hoverBackgroundColor:Object.keys(t),hoverBorderColor:"gray",data:Object.values(t)}]};return r.a.createElement(q.b,{data:n,options:te})}var ae={legend:{labels:{fontColor:"white",fontSize:14}}};function re(e){var t=e.data,n={labels:Object.keys(t),datasets:[{data:Object.values(t),backgroundColor:Object.keys(t)}]};return r.a.createElement(q.a,{data:n,options:ae})}function oe(){var e=Object(g.a)(["\n  width: 100%;\n  font-size: 14px;\n  thead {\n    background-color: ",";\n  }\n  tbody tr:hover {\n    border-bottom: 1px solid ",";\n  }\n  tr {\n    border: 1px solid ",";\n  }\n  th {\n    padding: 10px;\n    color: white;\n  }\n  td {\n    background-color: ",";\n    padding: 10px;\n    color: white;\n  }\n"]);return oe=function(){return e},e}function ce(){var e=Object(g.a)(["\n  height: 300px;\n  overflow: scroll;\n"]);return ce=function(){return e},e}var le=f.b.div(ce()),ie=f.b.table(oe(),(function(e){return e.theme.bgColor}),(function(e){return e.theme.cOrange}),(function(e){return e.theme.bgColorDark}),(function(e){return e.theme.bgColorLight}));function ue(e){var t=e.data;return console.log(t),t[0]?r.a.createElement(le,null,r.a.createElement(ie,null,r.a.createElement("thead",null,r.a.createElement("tr",null,Object.keys(t[0]).map((function(e,t){return r.a.createElement("th",{key:e+t},e.toUpperCase())})))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:e+t},Object.values(e).map((function(e,t){return r.a.createElement("td",{key:e+t},e)})))}))))):r.a.createElement("div",null)}var se=n(9);function de(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  & > div {\n    width: 49%;\n  }\n  & > div:last-child {\n    width: 100%;\n  }\n"]);return de=function(){return e},e}var pe=f.b.section(de());var me=Object(se.b)((function(e){return{storeData:e}}))((function(e){var t=e.storeData;return console.log(t),r.a.createElement("div",null,r.a.createElement("h2",null,"Dashboard"),r.a.createElement(pe,null,r.a.createElement(F,{title:"Lastest Hits"},r.a.createElement(ee,{data:t.dasbhoardPage.latestHits})),r.a.createElement(F,{title:"Performance"},r.a.createElement(ne,{data:t.dasbhoardPage.performance})),r.a.createElement(F,{title:"Storage Information"},r.a.createElement(re,{data:t.dasbhoardPage.performance})),r.a.createElement(F,{title:"Notification List"},r.a.createElement($,{data:t.dasbhoardPage.notifications})),r.a.createElement(F,{title:"Orders List"},r.a.createElement(ue,{data:t.dasbhoardPage.orders}))))})),he=n(35),ge="SET_INITIAL_DATA",fe="UPDATE_PRODUCTS",be="UPDATE_ACCOUNTS";function Ee(e){return{type:fe,payload:e}}function ve(){var e=Object(g.a)(["\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  visibility: ",";\n  section {\n    background: ",";\n    padding: 40px;\n    position: relative;\n    span {\n      position: absolute;\n      top: 0;\n      right: 0;\n      margin-right: 10px;\n      font-size: 25px;\n      font-weight: 600;\n      color: ",";\n      cursor: pointer;\n      &:hover {\n        color: ",";\n      }\n    }\n    input {\n      padding: 10px 10px;\n      /* width: 100%; */\n      background-color: ",";\n      border: none;\n      outline: none;\n      color: ",";\n    }\n  }\n"]);return ve=function(){return e},e}function xe(){var e=Object(g.a)(["\n  font-size: 13px;\n  text-align: left;\n  width: 100%;\n  thead {\n    background-color: ",";\n  }\n  tbody tr:hover {\n    border-bottom: 1px solid ",";\n    cursor: default;\n  }\n  tr {\n    border: 1px solid ",";\n  }\n  th {\n    padding: 10px;\n    color: white;\n  }\n  td {\n    background-color: ",";\n    padding: 10px;\n    color: white;\n  }\n"]);return xe=function(){return e},e}function ye(){var e=Object(g.a)(["\n  width: 30px;\n  height: 30px;\n  border-radius: 15px;\n  background-color: ",";\n  text-align: center;\n  line-height: 30px;\n  cursor: pointer;\n"]);return ye=function(){return e},e}function Oe(){var e=Object(g.a)(["\n  width: 100%;\n  max-height: 500px;\n  overflow-x: scroll;\n  overflow-y: scroll;\n"]);return Oe=function(){return e},e}function je(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  text-align: center;\n  h5 {\n    text-align: left;\n  }\n  & > div:first-child {\n    width: 72%;\n  }\n  & > div:last-child {\n    width: 25%;\n  }\n"]);return je=function(){return e},e}var ke=f.b.section(je()),we=f.b.div(Oe()),Ce=f.b.div(ye(),(function(e){return e.theme.bgColorDark})),Pe=f.b.table(xe(),(function(e){return e.theme.bgColor}),(function(e){return e.theme.cOrange}),(function(e){return e.theme.bgColorDark}),(function(e){return e.theme.bgColorLight})),De=f.b.div(ve(),(function(e){return e.visibility}),(function(e){return e.theme.bgColorDark}),(function(e){return e.theme.cOrange}),(function(e){return e.theme.cOrangeDark}),(function(e){return e.theme.bgColor}),(function(e){return e.theme.cWhite})),Se=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedProducts:[],redirect:!0,modal:!1,category:""},n.deleteItems=function(){var e=n.props.productsList,t=Object(he.a)(e.products);t=t.filter((function(e,t){return!n.state.selectedProducts.includes(t)})),e.products=t,n.props.onProductsChange(e)},n.selectProduct=function(e){var t=Object(he.a)(n.state.selectedProducts);t.includes(e)?t.splice(t.indexOf(e),1):t.push(e),n.setState({selectedProducts:t})},n.deleteItem=function(e,t){var a=n.props.productsList,r=Object(he.a)(a[t]);r.splice(e,1),a[t]=r,n.props.onProductsChange(a)},n.addCategory=function(){var e=Object(he.a)(n.props.categories),t=n.props.productsList;e.push(n.state.category),t.categories=e,n.props.onProductsChange(t),n.setState({category:""}),n.toggleModal()},n.changeRoute=function(e){n.props.history.push("/products/".concat(e))},n.toggleModal=function(){n.setState({modal:!n.state.modal})},n.changeCategory=function(e){var t=e.target.value;n.setState({category:t})},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e.products!==this.props.products&&this.setState({selectedProducts:[]})}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,a=t.products,o=this.state.modal;return r.a.createElement("div",null,r.a.createElement("h2",null,"Products"),r.a.createElement(ke,null,r.a.createElement(F,{title:"All products"},r.a.createElement(we,null,r.a.createElement(Pe,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null),a[0]&&Object.keys(a[0]).map((function(e,t){return"img"===e?null:r.a.createElement("th",{key:e+t},e.toUpperCase())})),r.a.createElement("th",null))),r.a.createElement("tbody",null,a.map((function(t,n){t.img;var a=Object(h.a)(t,["img"]);return r.a.createElement("tr",{key:n},r.a.createElement("td",null,r.a.createElement(Ce,{onClick:e.selectProduct.bind(e,n)},e.state.selectedProducts.includes(n)&&r.a.createElement(N.a,{icon:T.a}))),Object.values(a).map((function(t,a){return r.a.createElement("td",{key:t+a,onClick:e.changeRoute.bind(e,n)},t)})),r.a.createElement("td",null,r.a.createElement(Ce,{onClick:e.deleteItem.bind(e,n,"products")},r.a.createElement(N.a,{icon:T.d}))))}))))),r.a.createElement(C,{text:"Add new product",action:this.changeRoute.bind(this,"new")}),r.a.createElement(C,{text:"Delete selected products",action:this.deleteItems})),r.a.createElement(F,{title:"Categories"},r.a.createElement(we,null,r.a.createElement(Pe,null,r.a.createElement("thead",null,r.a.createElement("tr",null)),r.a.createElement("tbody",null,n.map((function(t,n){return r.a.createElement("tr",{key:t+n},r.a.createElement("td",null,t),r.a.createElement("td",null,r.a.createElement(Ce,{onClick:e.deleteItem.bind(e,n,"categories")},r.a.createElement(N.a,{icon:T.d}))))}))))),r.a.createElement(C,{text:"Add Category",action:this.toggleModal}))),r.a.createElement(De,{visibility:o?"":"hidden"},r.a.createElement("section",null,r.a.createElement("span",{onClick:this.toggleModal},"X"),r.a.createElement("h5",null,"New Category"),r.a.createElement("input",{type:"text",value:this.state.category,onChange:this.changeCategory}),r.a.createElement(C,{text:"Add Category",action:this.addCategory}))))}}]),t}(a.Component),Ae=Object(se.b)((function(e){return{productsList:e.productsPage,products:e.productsPage.products,categories:e.productsPage.categories}}),(function(e){return{onProductsChange:function(t){e(Ee(t))}}}))(Se),Le=n(23),Ue=n(8);function Ve(){var e=Object(g.a)(["\n  padding: 20px;\n  input,\n  textarea,\n  select {\n    padding: 5px 10px;\n    width: 100%;\n    background-color: ",";\n    border: none;\n    outline: none;\n    color: ",";\n  }\n  &#image {\n    text-align: center;\n    & > div {\n      position: relative;\n    }\n    & > div div {\n      visibility: hidden;\n      height: 40px;\n      width: 40px;\n      border-radius: 20px;\n      background-color: ",";\n      color: white;\n      text-align: center;\n      line-height: 40px;\n      position: absolute;\n      top: 0;\n      bottom: 0;\n      right: 0;\n      left: 0;\n      margin: auto;\n      cursor: pointer;\n      &:hover {\n        visibility: visible;\n      }\n    }\n    img {\n      &:hover + div {\n        visibility: visible;\n      }\n      cursor: pointer;\n      display: block;\n      width: 250px;\n      height: 250px;\n      background-color: ",";\n      margin: 25px auto;\n      object-fit: cover;\n      overflow: hidden;\n    }\n  }\n"]);return Ve=function(){return e},e}function Ie(){var e=Object(g.a)([""]);return Ie=function(){return e},e}function Ne(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-wrap: wrap;\n  & > div {\n    width: 48%;\n  }\n"]);return Ne=function(){return e},e}var Te=f.b.section(Ne()),Re=f.b.form(Ie()),_e=f.b.section(Ve(),(function(e){return e.theme.bgColor}),(function(e){return e.theme.cWhite}),(function(e){return e.theme.cOrange}),(function(e){return e.theme.bgColor})),We=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selection:"null",accounts:{}},n.updateAccounts=function(e){e.preventDefault(),n.props.updateAccounts(n.state.accounts),alert("The account has been updated")},n.deleteImage=function(){var e=n.state.selection;if("null"===e)return null;var t=Object(Ue.a)({},n.state.accounts);t[e].profilePic=null,n.setState({accounts:t})},n.changeValue=function(e){var t=n.state,a=t.selection,r=t.accounts;if("null"===a)return null;var o=e.target,c=o.value,l=o.name,i=o.files,u=i?Object(Ue.a)({},r[a],Object(Le.a)({},l,URL.createObjectURL(i[0]))):Object(Ue.a)({},r[a],Object(Le.a)({},l,c));r[a]=u,n.setState({accounts:r}),console.log(r)},n.changeSelection=function(e){var t=e.target.value;n.setState({selection:t}),console.log(n.state.accounts)},n.upload=function(e){if(e.preventDefault(),console.log(n.state.selection),"null"===n.state.selection)return null;n.refs.fileUploader.click()},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props);var e=Object(Ue.a)({},this.props.accounts);console.log(e),this.setState({accounts:e})}},{key:"componentDidUpdate",value:function(e){if(e.accounts!==this.props.accounts){var t=Object(Ue.a)({},this.props.accounts);this.setState({accounts:t})}}},{key:"render",value:function(){var e=this.state,t=e.accounts,n=e.selection,a=t[n]||{};return r.a.createElement("div",null,r.a.createElement("h2",null,"Accounts"),r.a.createElement(F,{title:"List of accounts"},r.a.createElement(_e,null,r.a.createElement("p",null,"Choose the account"),r.a.createElement("select",{name:"category",onChange:this.changeSelection,value:n},r.a.createElement("option",{disabled:!0,value:"null"}," ","-- SELECT AN OPTION --"),Object.keys(t).map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)}))))),r.a.createElement(Te,null,r.a.createElement(F,{title:"Change Avatar"},r.a.createElement(_e,{id:"image"},r.a.createElement("div",{onClick:this.deleteImage},r.a.createElement("img",{src:a.profilePic||"https://www.tibs.org.tw/images/default.jpg",alt:""}),r.a.createElement("div",null,r.a.createElement(N.a,{icon:T.d}))),r.a.createElement(C,{text:"Change Image",action:this.upload}),r.a.createElement("input",{type:"file",name:"profilePic",ref:"fileUploader",style:{display:"none"},onChange:this.changeValue}))),r.a.createElement(F,{title:"Accoun Settings"},r.a.createElement(Re,null,r.a.createElement(_e,null,r.a.createElement("p",null,"Name"),r.a.createElement("input",{type:"text",name:"name",defaultValue:a.name,onChange:this.changeValue})),r.a.createElement(_e,null,r.a.createElement("p",null,"Email"),r.a.createElement("input",{type:"email",name:"email",defaultValue:a.email,onChange:this.changeValue})),r.a.createElement(_e,null,r.a.createElement("p",null,"Password"),r.a.createElement("input",{type:"password",name:"password",defaultValue:a.password,onChange:this.changeValue})),r.a.createElement(_e,null,r.a.createElement("p",null,"Phone"),r.a.createElement("input",{type:"text",name:"name",defaultValue:a.phone,onChange:this.changeValue})),r.a.createElement(_e,null,r.a.createElement(C,{text:"Update account",action:this.updateAccounts}))))))}}]),t}(a.Component),ze=Object(se.b)((function(e){return console.log(e),{accounts:e.accountsPage}}),(function(e){return{updateAccounts:function(t){return e({type:be,payload:t})}}}))(We);function Be(){var e=Object(g.a)(["\n  padding: 20px;\n  input,\n  textarea,\n  select {\n    padding: 5px 10px;\n    width: 100%;\n    background-color: ",";\n    border: none;\n    outline: none;\n    color: ",";\n  }\n\n  button {\n    color: ",";\n    padding: 5px 15px;\n    border-color: ",";\n    background: ",";\n    margin: 20px auto 30px;\n  }\n"]);return Be=function(){return e},e}function Me(){var e=Object(g.a)(["\n  flex: 1;\n  div#double {\n    display: flex;\n  }\n  #image {\n    text-align: center;\n    img {\n      display: block;\n      width: 250px;\n      height: 250px;\n      background: black;\n      margin: 20px auto;\n      object-fit: cover;\n      overflow: hidden;\n    }\n  }\n"]);return Me=function(){return e},e}function He(){var e=Object(g.a)(["\n  display: flex;\n  justify-content: center;\n"]);return He=function(){return e},e}var Fe=f.b.form(He()),Xe=f.b.section(Me()),Je=f.b.section(Be(),(function(e){return e.theme.bgColor}),(function(e){return e.theme.cWhite}),(function(e){return e.theme.cWhite}),(function(e){return e.theme.cOrange}),(function(e){return e.theme.cOrange})),Ze=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={product:null,id:null},n.changeValue=function(e){var t=e.target,a=t.value,r=t.name,o=t.files,c=o?Object(Ue.a)({},n.state.product,Object(Le.a)({},r,URL.createObjectURL(o[0]))):Object(Ue.a)({},n.state.product,Object(Le.a)({},r,a));n.setState({product:c}),console.log(c)},n.updateProduct=function(e){e.preventDefault();var t=n.props,a=t.match,r=t.productsPage,o=Object(Ue.a)({},r);"new"===a.params.id?o.products.push(n.state.product):o.products[a.params.id]=n.state.product,n.props.history.push("/products")},n.upload=function(e){e.preventDefault(),n.refs.fileUploader.click()},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.products,n=e.match.params.id,a=t[n]?t[n]:{category:"",description:"",expireDate:"",name:"",stock:"",unitSold:""};this.setState({product:a,id:n})}},{key:"componentDidUpdate",value:function(e){if(e.products!==this.props.products){var t=this.props,n=t.products,a=t.match.params.id,r=n[a]?n[a]:{};this.setState({product:r,id:a})}}},{key:"render",value:function(){var e=this.props.categories,t=this.state.product;if(!t)return r.a.createElement("div",null);var n=new Date(t.expireDate);return isNaN(n.getTime())&&(n=new Date),n=n.getFullYear()+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+("0"+n.getDate()).slice(-2),r.a.createElement("div",null,r.a.createElement("h2",null,t.name||"New Product"),r.a.createElement(F,{title:"Edit product"},r.a.createElement(Fe,null,r.a.createElement(Xe,null,r.a.createElement(Je,null,r.a.createElement("p",null,"Name"),r.a.createElement("input",{type:"text",name:"name",defaultValue:t.name,onChange:this.changeValue})),r.a.createElement(Je,null,r.a.createElement("p",null,"Description"),r.a.createElement("textarea",{type:"text",name:"description",value:t.description,onChange:this.changeValue})),r.a.createElement(Je,null,r.a.createElement("p",null,"Category"),r.a.createElement("select",{name:"category",onChange:this.changeValue,defaultValue:t.category},e.map((function(e,t){return r.a.createElement("option",{value:e,key:t},e)})))),r.a.createElement("div",{id:"double"},r.a.createElement(Je,null,r.a.createElement("p",null,"Expire Date"),r.a.createElement("input",{type:"date",name:"expireDate",value:n,onChange:this.changeValue})),r.a.createElement(Je,null,r.a.createElement("p",null,"Units in Stock"),r.a.createElement("input",{type:"number",name:"stock",defaultValue:t.stock,onChange:this.changeValue}))),r.a.createElement(Je,null,r.a.createElement("p",null,"Units Sold"),r.a.createElement("input",{type:"number",name:"unitSold",defaultValue:t.unitSold.replace(/,/g,"."),onChange:this.changeValue})),r.a.createElement(C,{text:"Update Product",action:this.updateProduct})),r.a.createElement(Xe,null,r.a.createElement(Je,{id:"image"},r.a.createElement("img",{src:t.img||"https://www.tibs.org.tw/images/default.jpg",alt:""}),r.a.createElement(C,{text:"Change Image",action:this.upload}),r.a.createElement("input",{type:"file",name:"img",ref:"fileUploader",style:{display:"none"},onChange:this.changeValue}))))))}}]),t}(a.Component),Ge=Object(se.b)((function(e){return{productsPage:e.productsPage,products:e.productsPage.products,categories:e.productsPage.categories}}),(function(e){return{updateProducts:function(t){return e(Ee(t))}}}))(Ze);function Ye(){var e=Object(g.a)(["\n  width: 1280px;\n  padding: 0px 50px;\n  margin: 50px auto;\n"]);return Ye=function(){return e},e}var $e=f.b.main(Ye());var qe=function(){return r.a.createElement("div",null,r.a.createElement(B,null),r.a.createElement($e,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/accounts"},r.a.createElement(ze,null)),r.a.createElement(b.b,{path:"/products/:id",component:Ge}),r.a.createElement(b.b,{path:"/products",component:Ae}),r.a.createElement(b.b,{path:"/"},r.a.createElement(me,null)))))};n(216);function Ke(){var e=Object(g.a)(["\n  min-height: 100vh;\n  background-color: ",";\n  overflow: hidden;\n"]);return Ke=function(){return e},e}var Qe=f.b.main(Ke(),(function(e){return e.theme.bgColor})),et=function(e){var t=e.children,n=Object(h.a)(e,["children"]);return r.a.createElement(b.b,Object.assign({},n,{render:function(){return P.isAuthenticated?t:r.a.createElement(b.a,{to:"/login"})}}))},tt=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e,t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.a.awrap(O.get("/project-data.json"));case 2:e=n.sent,t=e.data,this.props.onLoadData(t);case 5:case"end":return n.stop()}}),null,this)}},{key:"render",value:function(){return r.a.createElement(f.a,{theme:j},r.a.createElement(E.a,null,r.a.createElement(Qe,null,r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/login"},r.a.createElement(I,null)),r.a.createElement(et,{path:"/"},r.a.createElement(qe,null))))))}}]),t}(a.Component),nt=Object(se.b)((function(e,t){return{}}),(function(e){return{onLoadData:function(t){e({type:ge,payload:t})}}}))(tt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(217);var at=n(44),rt={accountsPage:{},dasbhoardPage:{latestHits:{},notifications:[],orders:[],performance:{},storage:{}},productsPage:{categories:[],products:[]}};var ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return Object.assign({},e,t.payload);case fe:return Object(Ue.a)({},e,{productsPage:t.payload});case be:return Object(Ue.a)({},e,{accountsPage:t.payload});default:return e}},ct=Object(at.b)(ot,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(r.a.createElement(se.a,{store:ct},r.a.createElement(nt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},87:function(e){e.exports=JSON.parse('{"a":"https://reactmusicplayer-ab9e4.firebaseio.com"}')},95:function(e,t,n){e.exports=n(218)}},[[95,1,2]]]);
//# sourceMappingURL=main.6825aca3.chunk.js.map